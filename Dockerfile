FROM node:20.10.0-bookworm-slim

WORKDIR /app

ARG VITE_APP_BACKEND_URL

ARG VITE_APP_BACKEND_URL

ENV VITE_APP_BACKEND_URL=$VITE_APP_BACKEND_URL

ENV VITE_APP_BACKEND_URL=$VITE_APP_BACKEND_URL

RUN echo $VITE_APP_BACKEND_URL

COPY . .

RUN npm ci

RUN npm run build

RUN npm install -g http-server

EXPOSE 3000

CMD ["http-server", "dist", "-p", "3000"]
